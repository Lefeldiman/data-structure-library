/* Aluna: Gabriela Santos de Lima
	Faça um programa que converta o arquivo texto de números inteiros "Dados.txt" (anexo a esta tarefa) em arquivo binário. 
	Após a gravação, abrir o arquivo binário gerado e escrever na tela seu conteúdo, com 8 valores por linha.
*/
#include <stdio.h>
#include <stdlib.h>
#include <strings.h>

int main(int argc, char *argv[]) {
	int i = 0, cont = 0,num;
	FILE *dados;
	FILE *bin;

	dados = fopen ("dados.txt","r");
	while(fscanf(dados,"%d",&num)!=EOF)
		cont++;
	int vetor[cont];
	rewind(dados);
	while(fscanf(dados,"%d",&num)!=EOF){
		vetor[i] = num;
		i++;
	}
	fclose(dados);
	
	bin = fopen ("bin","wb");
	fwrite(vetor,sizeof(int),cont,bin);
	fclose(bin);
	i=0;
	printf("Conteudo do Arquivo Binario Gerado: \n\n");
	bin = fopen ("bin","rb");
	while(fread(&num,sizeof(int),1,bin) == 1){
		printf("%5d",num);
		i++;
		if(i%8 == 0)
			printf("\n");
	}
	fclose(bin); 
	getch();
	return 0;
}


-------------------------------------------------------------------------------
/*  Faça um programa que converta o arquivo texto de números inteiros "Dados.txt" 
(anexo a esta tarefa) em arquivo binário. 
	Após a gravação, abrir o arquivo binário gerado e escrever na tela seu 
conteúdo, com 8 valores por linha.      */
#include <stdio.h>
#include <stdlib.h>
int main() {
	int i = 0, num;
	FILE *dados;	FILE *bin;
	dados = fopen ("dados.txt","r");
	bin = fopen ("Binario.dat","wb");
	while(fscanf(dados,"%d",&num)!=EOF)
	       fwrite(&num,sizeof(int),1,bin);		
	fclose(dados);   fclose(bin);	
	printf("Conteudo do Arquivo Binario Gerado: \n\n");
	bin = fopen ("Binario.dat","rb");
	while(fread(&num,sizeof(int),1,bin) == 1){
		printf("%5d",num);
		i++;    		if(i%8 == 0)
			                    printf("\n");
	}
	fclose(bin); 	getch();	return 0;
}

